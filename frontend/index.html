<!doctype html>
<html>
<head><meta charset="utf-8"><title>Recomendador VDL</title></head>
<body>
  <h1>Recomendador VDL</h1>
  <form id="f">
    <input name="edad" type="number" value="28" />
    <select name="presupuesto"><option>bajo</option><option selected>medio</option><option>alto</option></select>
    <select name="grupo"><option>Solo</option><option>Pareja</option><option>Familia</option><option>Grupo</option></select>
    <select name="movilidad"><option>a pie</option><option>bicicleta</option><option>auto</option></select>
    <select name="interes_ppal"><option>naturaleza</option><option>historia</option><option>gastronom√≠a</option><option>arte</option><option>aventura</option></select>
    <input name="tiempo" type="number" value="120" />
    <input name="top_n" type="number" value="5" />
    <button type="submit">Recomendar</button>
  </form>
  <pre id="out"></pre>
<script>
document.getElementById('f').addEventListener('submit', async (e)=>{
  e.preventDefault();
  const fd = new FormData(e.target);
  const body = Object.fromEntries(fd.entries());
  body.edad = +body.edad; body.tiempo = +body.tiempo; body.top_n = +body.top_n;
  const res = await fetch('http://localhost:8000/recommend', {
    method:'POST', headers:{'Content-Type':'application/json'},
    body: JSON.stringify(body)
  });
  const data = await res.json();
  document.getElementById('out').textContent = JSON.stringify(data, null, 2);
});
</script>
</body>
</html>
